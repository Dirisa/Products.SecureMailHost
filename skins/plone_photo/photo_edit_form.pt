<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master">
	
<body>

<div metal:fill-slot="main" 
     tal:define="errors python:request.get('errors', {})">

    <h1 i18n:translate="">Edit Photo</h1>
    
    <p i18n:translate="">
    Using this form, you can enter details about the photo, and upload 
    an photo if required.
    </p> 
    
    <form class="group"
          action="image_edit" 
          name="edit_form" 
          method="post" 
          enctype="multipart/form-data" >

        <span class="legend" i18n:translate="">Photo Details</span>
        
        <div class="row" 
             tal:define="error_id errors/id | nothing;
                         id python:request.get('id', here.getId());
			 id python:test(here.isIDAutoGenerated(id), '', id)"> 
            <div class="label required">
            
                <span i18n:id="id">ID</span>
            
                <div id="id_help" 
                     i18:id="id_help"
                     class="help" 
                     style="visibility:hidden">
                Enter the ID of the photo. This is the part that will show up as part
                of the web address. This should be short, descriptive
                and preferrably not contain spaces, underscores or mixed case. Example:
                "expense-report-2002"
                </div>
            </div>
            
            <div class="field"
                  tal:attributes="class python:test(error_id, 'field error', 'field')" >

                <div tal:condition="error_id"
                      tal:replace="error_id" />

                <input type="text" 
                       name="field_id" 
                       value="#"
                       size="30" 
                       tal:attributes="value id" 
                       tabindex="1"
                       onfocus="formtooltip('id_help',1)" 
                       onblur="formtooltip('id_help',0)" />
            </div>

        </div>
        
        <div class="row"
             tal:define="error_title errors/title|nothing;
                         Title request/title | here/Title;"> 
            <div class="label required">
                <span i18:id="title">Title</span>
                
                <div id="title_help" 
                     i18n:id="title_help"
                     class="help" 
                     style="visibility:hidden">
                Enter the title of the photo.
                </div>
            </div>
            
            <div class="field"
                  tal:attributes="class python:test(error_title, 'field error', 'field')" >

                <div tal:condition="error_title"
                      tal:replace="error_title" />

                <input type="text" 
                       name="field_title" 
                       value="#" 
                       size="30" 
                       tabindex="2"
                       tal:attributes="value Title" 
                       onfocus="formtooltip('title_help',1)" 
                       onblur="formtooltip('title_help',0)" />

            </div>
        </div>

        <div class="row">
            <div class="label">
                <span i18n:id="description">Description</span>
                
                <div id="description_help" 
                     i18n:id="description_help"
                     class="help" 
                     style="visibility:hidden">
                Enter a brief description of the photo. 
                </div>
            </div>
            <div class="field" tal:define="description request/description | here/Description "> 
                <textarea cols="40" 
                          rows="5" 
                          tabindex="3"
                          name="field_description"
                          tal:content="description"
                          onfocus="formtooltip('description_help',1)" 
                          onblur="formtooltip('description_help',0)">
                Description 
                </textarea>
            </div>
        </div>

        <div class="row"
             tal:define="error_file errors/file|nothing;
                         file request/file | here/file | nothing;">
            
            <div class="label">
                <span i18n:id="image">Image</span>
                <div id="image_help" 
                     i18n:id="image_help"
                     class="help" 
                     style="visibility:hidden">
                Select the photo to be added by clicking the "Browse" button.
                </div>
            </div>
            
            <div class="field"
   	             tal:attributes="class python:test(error_file, 'field error', 'field')">
              
                <div tal:condition="error_file"
                     tal:replace="structure string:$error_file <br />" />
                
                <input type="file" 
                       name="field_file" 
                       size="30" 
                       tabindex="4" 
                       onfocus="formtooltip('image_help',1)" 
                       onblur="formtooltip('image_help',0)" 
                       />
                <span tal:condition="python:test(here.size, 0, 1)">
                  <br /> (No image has been uploaded yet)
                </span>
            </div>
        </div>

        <div class="row">
            <div class="label"> &nbsp; </div>
            <div class="field"> <input class="context" type="submit" name="change" value="save" /> </div>       
        </div>
   
    </form>

</div>

</body>
</html>
