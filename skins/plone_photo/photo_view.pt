<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master">
	
<body>

<div metal:fill-slot="main" tal:define="default_size string:small">

    <div class="contentHeader">
    <h1 tal:content="here/title_or_id">Title or id</h1>
    </div>

    <a tal:condition="here/size" tal:attributes="href here/absolute_url">
        <img tal:define="size python:getattr(request, 'display', default_size)" tal:replace="structure python:here.tag(display=size, cookie=test(request.get('display'), 1, 0))" />
    </a>
           
    <span class="description" tal:content="structure here/Description">
    Description
    </span>

    <small>
    <span i18n:translate="">Size:</span>
        <span tal:define="size python:here.getObjSize(here)"
              tal:content="size">                        
        File size
        </span>            
        
        <span tal:condition="python:test(here.size, 0, 1)"
              i18n:translate="">
          (No file has been uploaded)
        </span>
        
        -
        
        <span i18n:translate="">Content type:</span>
        <span tal:content="here/content_type">
        Content type
        </span>
    
    </small>


    <div>      
        <span i18n:translate="">Display size:</span>
        <form>
            <select tal:attributes="onChange string:location.href='${request/URL0}?display='+this.options[this.selectedIndex].value" name="display">
                <option tal:repeat="display here/displayMap" tal:content="string:${display/id/capitalize} ${display/width}x${display/height}" 
                        tal:attributes="value display/id;
                                        selected python:test(request.get('display', default_size)==display['id'], 'selected', '');" 
                />
            </select>
        </form>
    </div>

    <span tal:define="display request/form/display | default_size">
        <span class="left" tal:condition="here/prevPhoto">
            <form tal:attributes="action string:${here/prevPhoto}/view">
                <input class="standalone" type="submit" value="Previous Photo" />
            </form>
        </span>
	<span class="right" tal:condition="here/nextPhoto">
            <form tal:attributes="action string:${here/nextPhoto}/view">
                <input class="standalone" type="submit" value="Next Photo" />
            </form>
        </span>	
        <span class="right" tal:condition="python:here.aq_parent.Type() == 'Photo Folder'">
            <form tal:attributes="action string:${here/aq_parent/absolute_url}/view">
                <input class="standalone" type="submit" value="Back to Album" />
            </form>
        </span>
    </span>
    
</div>

</body>
</html>





