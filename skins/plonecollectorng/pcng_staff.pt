<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plonecollectorng">

<body>
<div metal:fill-slot="main">	  

  <form action="set_staff" method="post">
    <div class="group"><span class="legend">Tracker Staff</span>
      <table class="listing" 
             tal:define="managers here/getManagers;
                         supporters here/getSupporters;
                         reporters here/getReporters">
        <tr>
          <th i18n:translate="UserID">User ID</th>
          <th i18n:translate="Name">Name</th>
          <th i18n:translate="Email">Email</th>
          <th i18n:translate="Managers">Tracker Administrator</th>
          <th i18n:translate="Supporter">Supporter</th>
          <th i18n:translate="Reporter">Reporter</th>
       </tr>
       <span tal:repeat="user here/getTrackerUsers" >

       <tr class="odd" tal:attributes="class python:test(repeat['user'].even(), 'even', 'odd')">

         <td tal:content="user/username" />
         <td tal:content="user/fullname|nothing" />
         <td tal:content="user/email|nothing" />
         <td>
           <input type="checkbox" name="managers:list:string" 
                  tal:attributes="value user/username;
                                  checked python: user['username'] in managers" />
         </td>
         <td>
           <input type="checkbox" name="supporters:list:string" 
                  tal:attributes="value user/username;
                                  checked python: user['username'] in supporters" />
         </td>
         <td>
           <input type="checkbox" name="reporters:list:string" 
                  tal:attributes="value user/username;
                                  checked python: user['username'] in reporters" />
         </td>
           
       </tr>
       </span>
      </table>

      <div class="row">
        <div class="label">&nbsp;</div>
        <div class="field">
          <input class="context" type="submit" value=" Save " i18n:attributes="value"/>
          <input class="context" type="reset" value=" Reset " i18n:attributes="value"/>
        </div>
      </div> <!-- End row -->

    </div> <!-- End group -->
  </form>
</div>
</body>
</html>
