<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="contentpanels">

  <metal:block fill-slot="head_slot">
        <link rel="Stylesheet" type="text/css" tal:attributes="href string:$portal_url/contentpanels.css" />
        <link rel="Stylesheet" type="text/css" tal:attributes="href string:$portal_url/contentpanels_skins.css" />
  </metal:block>

<body>

    <td metal:fill-slot="main"
	tal:omit-tag=""
          tal:define="page request/pageIndex | python:'0';
                      pageIndex python:int(page)" >

    <h1 tal:content="here/title_or_id">
    Title or id
    </h1>

<!--
HEAD PAGE TITLES!!
-->

    <metal:block metal:use-macro="here/contentpanels_macros/macros/cpPages"/>

    <div class="documentDescription"
         tal:content="here/Description">
    description
    </div>

    <metal:block metal:define-macro="viewlet">

      <table width="" align="" cellspacing="" cellpadding="" 
              tal:define="pageIndex pageIndex | python:0"
              tal:attributes="width python: here.getPageInfo(pageIndex, 'pageWidth');
                       cellpadding python: here.getPageInfo(pageIndex, 'pageCellPad');
                       cellspacing python: here.getPageInfo(pageIndex, 'pageCellSpace');
                       align python: here.getPageInfo(pageIndex, 'pageAlign')">


<!--
columns
-->
        <tr>  
          <td width="#" valign="top" 
              tal:repeat="column python:here.getPageInfo(pageIndex, 'pageColumns')"
              tal:attributes="width python:test(column['columnWidth']=='0', '', column['columnWidth'])" >
            <tal:block tal:define="panels column/columnPanels;
                                   isEmptyColumn python: len(column['columnPanels']) == 0">
              <div tal:repeat="panel panels">
<!--
panel should be here!!
-->
                 <div tal:content="structure python: here.contentpanels_getPanel(panel['panelObjectPath'], panel['panelSkin'], panel['panelObjectViewlet'])"
                      tal:on-error="string: "/>

              </div>

            </tal:block>
          </td>
        </tr>

      </table>
    </metal:block>

    <br clear="all" />

  </td>

</body>

</html>



