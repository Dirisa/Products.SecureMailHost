<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

<body>

    <td metal:fill-slot="main"
	tal:omit-tag=""
          tal:define="page request/pageIndex | python:'0';
                      global pageIndex python:int(page)" >

<!--
HEAD PAGE TITLES!!
-->

      <div align="right">
         <span tal:omit-tag="" tal:repeat="pageTitle here/getPageTitles">

             <code tal:condition="python: pageIndex == repeat['pageTitle'].index" 
                   tal:content="pageTitle"></code>

             <a class="#" href="#"
                 tal:condition="python: pageIndex != repeat['pageTitle'].index"
                 tal:attributes="href python:here.absolute_url() + '/' + template.id + '?pageIndex=%d' % repeat['pageTitle'].index "
                 tal:content="pageTitle">page tiltle</a>&nbsp;|&nbsp;

          </span>

          <a href="" tal:attributes="href python:here.absolute_url() + '/contentpanels_edit_form?pageIndex=%d' % pageIndex ">
                 <img src="/misc_/CMFCore/tool.gif"/>
          </a>
          <a href="" tal:attributes="href python:here.aq_parent.absolute_url() + '/folder_contents'">
                 <img src="/folder_icon.gif"/>
          </a>

      </div>

      <table width="" align="" cellspacing="" cellpadding="" 
              tal:attributes="width python: here.getPageInfo(pageIndex, 'pageWidth');
                       cellpadding python: here.getPageInfo(pageIndex, 'pageCellPad');
                       cellspacing python: here.getPageInfo(pageIndex, 'pageCellSpace');
                       align python: here.getPageInfo(pageIndex, 'pageAlign')">


<!--
columns
-->
        <tr>  
          <td width="#" valign="top" 
              tal:repeat="column python:here.getPageInfo(pageIndex, 'pageColumns')"
              tal:attributes="width python:test(column['columnWidth']=='0', '', column['columnWidth'])" >
            <tal:block tal:define="panels column/columnPanels;
                                   isEmptyColumn python: len(column['columnPanels']) == 0">
              <div tal:repeat="panel panels">
<!--
panel should be here!!
-->
                 <div tal:content="structure python: here.contentpanels_getPanel(panel['panelObjectPath'], panel['panelSkin'])"/>

              </div>

            </tal:block>
          </td>
        </tr>


      </table>
    </td>

</body>

</html>

