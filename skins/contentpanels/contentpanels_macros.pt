<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US"
      i18n:domain="plone">

<body>

<metal:block metal:define-macro="cpPages"
     tal:omit-tag=""
     tal:define="page_titles here/getPageTitles">

<ul class="cpPages" tal:condition="python: len(page_titles) > 1">
    <tal:pages repeat="pageTitle page_titles">
    <li tal:define="selected python: pageIndex == repeat['pageTitle'].index;"
        tal:attributes="class python:test(selected, 'selected', 'plain')">
        <a class="" href=""
           tal:attributes="href string:${here/absolute_url}/${template/id}?pageIndex=${repeat/pageTitle/index}"
           i18n:attributes="accesskey">
                <span tal:replace="pageTitle">dummy</span>
        </a>
    </li>
    </tal:pages>
</ul>

</metal:block>


<div metal:define-macro="viewlet"
     tal:omit-tag="">

      <table tal:define="pageIndex pageIndex | python:0"
             tal:attributes="width python: here.getPageInfo(pageIndex, 'pageWidth');
                       cellpadding python: here.getPageInfo(pageIndex, 'pageCellPad');
                       cellspacing python: here.getPageInfo(pageIndex, 'pageCellSpace');
                       align python: here.getPageInfo(pageIndex, 'pageAlign')">
<!--
columns
-->
        <tr>
          <td width="#" valign="top"
              tal:repeat="column python:here.getPageInfo(pageIndex, 'pageColumns')"
              tal:attributes="width python:test(column['columnWidth']=='0', '', column['columnWidth'])" >
            <tal:block tal:define="panels column/columnPanels;
                                   isEmptyColumn python: len(column['columnPanels']) == 0">
              <div tal:repeat="panel panels">
<!--
panel should be here!!
-->
                 <div tal:content="structure python: here.getPanel(panel['panelObjectPath'], panel['panelSkin'], panel['panelObjectViewlet'])"
                      />

              </div>

            </tal:block>
          </td>
        </tr>
      </table>

</div>


</body>
</html>
