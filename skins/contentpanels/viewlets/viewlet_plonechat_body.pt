<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      i18n:domain="plone">

<body>

<div metal:define-macro="portlet">

     <div class="portlet">

         <h5><a href="#"    tal:attributes="href here/absolute_url"
                            tal:content="here/title_or_id" >title</a></h5>

         <div class="portletBody">

           <tal:block tal:repeat="line python:here.getChat(5, reverse = 1)">

              <div class="portletContent odd"
                   tal:attributes="class python:test(repeat['line'].index % 2, 'portletContent even', 'portletContent odd')">
 
               <strong>
                 <font color="red" tal:condition="line/current">
                     <span tal:replace="line/header" />
                 </font>
                 <font color="blue" tal:condition="python:not line['current']">
                    <span tal:replace="line/header" />
                 </font>
               </strong>
               <span tal:replace="line/text" />

             </div>
           </tal:block>

             <div class="portletContent odd">

                 <a href="#"
                    class="portletMore"
                    i18n:translate="box_morelink"
                    tal:attributes="href here/absolute_url"
                   >More...</a>

              </div>

         </div>

     </div>
</div>

</body>
</html>

