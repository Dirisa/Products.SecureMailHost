<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      i18n:domain="plone">

<body>

<!--
     here defines some macros for different content list for viewlets.
     input is 'results', which is a list of contents or catalogBrains 
-->

<!-- 
1. description in link title 
-->

<metal:block metal:define-macro="description_in_title">
    <tal:block tal:repeat="item results">

        <div class="portletContent odd" 
             tal:attributes="class python:test(repeat['item'].index % 2, 'portletContent even', 'portletContent odd')">

            <tal:block tal:define="result_url item/getURL;
                                   url string:$result_url/view;">

              <a href="#"
                tal:attributes="href url">
	<img src="#"
	     height="16"
	     width="16"
	     alt=""
	     tal:on-error="structure python:path('here/linkOpaque.gif')"
	     tal:replace="structure python:path('here/%s' % item.getIcon)" /></a>&nbsp;<a
                href="#" tal:attributes="href url; title item/Description"
                tal:content="python:item.Title or item.getId" />

                <span class="discreet"
                      tal:define="modificationDate item/ModificationDate;
                                  modificationDate python:here.toPortalTime(modificationDate)"
                      tal:content="string:(${item/Creator}) $modificationDate">
                      creator   08/19/2001 03:01 AM
                </span>
            </tal:block>
        </div>
    </tal:block>
</metal:block>

<!-- 2. inline description -->

<metal:block metal:define-macro="inline_description">
    <tal:block tal:repeat="item results">

        <div class="portletContent odd"
             tal:attributes="class python:test(repeat['item'].index % 2, 'portletContent even', 'portletContent odd')" >

            <tal:block tal:define="result_url item/getURL;
                                   url string:$result_url/view;">
              <a href="#"
                tal:attributes="href url">
                <img src="#"
                     height="16"
                     width="16"
                     alt=""
                     tal:on-error="structure python:path('here/linkOpaque.gif')"
                     tal:replace="structure python:path('here/%s' % item.getIcon)" /></a>&nbsp;<a
                href="#" tal:attributes="href url"
                tal:content="python:item.Title or item.getId" />

                <span class="discreet"
                      tal:define="modificationDate item/ModificationDate;
                                  modificationDate python:here.toPortalTime(modificationDate)"
                      tal:content="string:(${item/Creator}) ${item/Description} $modificationDate">
                      creator   08/19/2001 03:01 AM
                </span>
            </tal:block>
        </div>
    </tal:block>
</metal:block>

<!-- 3. separate line description -->

<metal:block metal:define-macro="separate_line_description">
    <tal:block tal:repeat="item results">

        <div class="portletContent odd"
             tal:attributes="class python:test(repeat['item'].index % 2, 'portletContent even', 'portletContent odd')">

            <tal:block tal:define="result_url item/getURL;
                                   url string:$item_url/view;">
              <a href="#"
                tal:attributes="href url">
                <img src="#"
                     height="16"
                     width="16"
                     alt=""
                     tal:on-error="structure python:path('here/linkOpaque.gif')"
                     tal:replace="structure python:path('here/%s' % item.getIcon)" /></a>&nbsp;<a
                href="#" tal:attributes="href url"
                tal:content="python:item.Title or item.getId" />

                <span class="discreet"
                      tal:define="modificationDate item/ModificationDate;
                                  modificationDate python:here.toPortalTime(modificationDate)"
                      tal:content="string:(${item/Creator}) $modificationDate">
                      creator   08/19/2001 03:01 AM
                </span>

	        <div class="portletMore">
                    <span tal:content="structure item/Description"/>...
                </div>

            </tal:block>
        </div>
    </tal:block>
</metal:block>

<!-- 4. short title -->

<metal:block metal:define-macro="title_only">
    <tal:block tal:repeat="item results">

        <div class="portletContent odd"
             tal:attributes="class python:test(repeat['item'].index % 2, 'portletContent even', 'portletContent odd')">

            <tal:block tal:define="result_url item/getURL;
                                   url string:$result_url/view;">
              <a href="#"
                tal:attributes="href url">
                <img src="#"
                     height="16"
                     width="16"
                     alt=""
                     tal:on-error="structure python:path('here/linkOpaque.gif')"
                     tal:replace="structure python:path('here/%s' % item.getIcon)" /></a>&nbsp;<a
                href="#" tal:attributes="href url"
                tal:content="python:item.Title or item.getId" />
            </tal:block>
        </div>
    </tal:block>
</metal:block>

</body>

</html>



