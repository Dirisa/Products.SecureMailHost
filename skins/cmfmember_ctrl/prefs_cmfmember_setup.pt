<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/prefs_main_template/macros/master"
      i18n:domain="plone">

<body>

   <div metal:fill-slot="prefs_configlet_main"
      tal:define="controlPanel python:modules['Products.CMFCore.utils'].getToolByName(here, 'portal_controlpanel');
                  groups python:controlPanel.getGroups('cmfmember');
                  getIconFor nocall:putils/getIconFor">

 <div class="configlet">
 <div class="documentEditable">    

    <!-- simulating views on the groups/user pages until we have real objects. -->
    <ul class="contentViews">
        <li class="selected">
        <a href=""
        tal:attributes="href string:${template/id}"
        i18n:translate="label_users">Migration</a>
        </li>

        <li class="">
        <a href=""
        tal:attributes="href string: prefs_cmfmember_import"
        i18n:translate="label_groups">Import</a>
        </li>

        <li class="">
        <a href=""
        tal:attributes="href string: prefs_cmfmember_setup"
        i18n:translate="label_groups">Setup</a>
        </li>
    </ul>

    <div class="documentContent">


    <tal:block tal:repeat="group groups">

        <h2 tal:content="group/title"
            i18n:translate="">CMFMember Configlet Group Title</h2>

        <ul class="configlets" tal:define="configlets python:controlPanel.enumConfiglets(group=group['id'])">

            <li tal:repeat="configlet configlets">
                <a href=""
                   tal:attributes="href configlet/url"
                   tal:condition="configlet/visible">
                    <img src="" alt="" tal:attributes="src python:getIconFor('controlpanel',configlet['id']);
                                         alt configlet/description"
                         i18n:attributes="alt"
                         tal:on-error="string:" />
                <tal:configletname tal:content="configlet/name"
                                   i18n:translate=""></tal:configletname>
                </a>
            </li>

            <li tal:condition="not:configlets" i18n:translate="label_no_panels_available">
                No Preference Panels available.
            </li>

        </ul>

    </tal:block>
    </div>
   </div>
  </div>
 </div>   

</body>
</html>
