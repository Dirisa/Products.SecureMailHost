<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master">

<head>
    <metal:css fill-slot="css_slot">
    <style type="text/css" media="all"
           tal:content="string: @import url($portal_url/helpcenter.css);"></style>
    </metal:css>

    <metal:override fill-slot="column_two_slot" />

</head>

<body>

<div metal:fill-slot="main">

    <div metal:define-macro="main"
         tal:define="len_text python:len(here.getBody());
	 sibl here/getPages;
		     num_sibl python:len(sibl);
		     pos python:here.getPagePosition(here);">
      
        <h1 class="documentFirstHeading">
            <img tal:replace="structure here/howto_icon.gif" />
            <span tal:replace="here/title_or_id">Title or id</span>
        </h1>
    
        <div metal:use-macro="here/document_actions/macros/document_actions">
            Document actions (print, sendto etc)
        </div>

        <form style="float: right; margin-top: 1em; clear: right; display: inline;"
              method="get" action="redirect_to">
            <select name="dest"
                    tabindex="3">
                <option value="" i18n:translate="label_select">Page Index</option>
                <option tal:repeat="s python:[s for s in sibl if s!=here]"
                        tal:content="s/title_or_id"
                        tal:attributes="value s/getId">
                    Some Page
                </option>
            </select>
            <input class="standalone"
                   type="submit"
                   value="Go"
                   i18n:translate="value"
                   tabindex="4" />
        </form>

        <div class="documentDescription"
             tal:content="here/Description">
            description
        </div>
  
        <p class="discreet"
           tal:condition="python: not len_text and is_editable"
           i18n:translate="no_body_text">
            This item does not have any body text, click the edit tab to change it.
        </p>
    
        <div class="tutorialAbout"
             tal:define="portrait python: mtool.getPersonalPortrait(here.Creator());">
        
            <div style="text-align: center;">
                <img src=""
                     alt=""
                     class="portraitPhoto"
                     width="75"
                     height="100"
                     tal:attributes="src portrait/absolute_url" />
            </div>
                  
            <p tal:content="python: mtool.getMemberById(here.Creator()).getProperty('fullname')"
               tal:on-error="here/Creator">
            Full name
            </p>
                    
            <div tal:content="here/getTutorialDescription">
            Tutorial Description
            </div>
            
            <div>
	      Page <span tal:replace="python:pos+1">5</span> of <span tal:replace="python:num_sibl">10</span>.
            </div>
        </div>

        <div id="bodyContent">
            <div tal:replace="structure python:here.getBody()" />
        </div>
    
        <div class="listingBar" tal:condition="python: next or prev"
	      tal:define="next python:pos &lt; num_sibl-1 and sibl[pos+1];
               prev python:pos != 0 and sibl[pos-1]"
               >
            <a class="listingNext"
               tal:condition="python:next"
               tal:attributes="href next/absolute_url"
               tabindex="1"
               href="">
               Next: <span tal:replace="next/title_or_id" /> <img tal:replace="structure here/arrowRight.gif" /></a>
            <a class="listingPrevious"
               tal:condition="python:prev"
               tal:attributes="href prev/absolute_url"
               tabindex="1"
               href="">
               <img tal:replace="structure here/arrowLeft.gif" /> Previous: <span tal:replace="prev/title_or_id" /></a>
               &nbsp;
        </div>

        <div metal:use-macro="here/document_byline/macros/byline">
          Get the byline - contains details about author and modification date.
        </div>    

    </div>

</div>

</body>
</html>
