2004-04-16  Rob Miller and Whit Morriss <ra@burningman.com, whit@burningman.com> (rafrombrc, brcwhit)

    * Lots of improvements to the migration unit tests to
      make sure the custom memberdata migration works correctly.
      The test passes, but there are still some known issues
      with some of the weirder property types (tokens, etc.)

2004-04-14  Rob Miller <ra@burningman.com> (rafrombrc)

    * Modified the Plone->1.0 migration code to migrate custom
      memberdata into the schema of CMFMember's Member class.

2004-04-06  Bill Schindler <bill@bitranch.com> (bitranch)

    * Moved mail password logic from Member to RegistrationTool to kill the
      permissions errors coming from the dtml template.

    * Rewrote the mail_password_template to make it work with CMFMember and
      get around a couple of other permission problems. Gave it full legal
      email headers while I was at it, so it can use an rfc-abiding email
      server rather than generating bounces.

2004-04-05  Bill Schindler <bill@bitranch.com> (bitranch)

    * VariableSchemaSupport.py:
      The field._properties dict is a constant. Switched to use
      field.__dict__ instead to detect changes within the schema. (This
      should probably be fixed in Archetypes, too.)

    * Member.py:
      Changed attributes on fields after registration. This allows fields to be
      (for example) required during registration, but not required afterwards.
      This appears to fix the problem with Archetypes 1.2.5 validation
      breaking on a required id/user name when updating user preferences.

2004-04-04  Bill Schindler <bill@bitranch.com> (bitranch)

    * Changed the name attributes on the join_form buttons so they can
      work with CMFFormController.

    * VariableSchemaSupport.py:
      Major clean-up. Tried to bring VariableSchemaSupport back in line with
      current versions of Archetypes. Made Schemata() return schematas in
      proper order.

2004-04-01 Bill Schindler  <bill@bitranch.com> (bitranch)

    * README.txt: First pass at a real README.

2004-03-31  Bill Schindler <bill@bitranch.com> (bitranch)

    * join_form: Added confirm_password to hidden fields for fieldsets
      so that the form validation doesn't get hung up on validating the
      hidden password.

2004-03-31  Rob Miller <ra@burningman.com> (RaFromBRC)

    * changed the valid_roles() and getRoles() implementation so that
      they do not filter out the auto-added roles.  added a getFilteredRoles()
      method that does

2004-03-30  Rob Miller <ra@burningman.com> (RaFromBRC)

    * added "cmfmember_ctrl" skin directory, moved all skin templates
      related to the ControlTool into this directory

    * modified the installer to install all skins, but to only add
      "cmfmember_ctrl" to the skins path

    * modified default plone -> CMFMember migration path to install
      the additional cmfmember skins at migration time

2004-03-29  Rob Miller <ra@burningman.com> (RaFromBRC)

    * changed member_auto_workflow to have an auto_register transition
      instead of register.  this transition checks the value of the "mail_me"
      attribute when deciding whether or not to send the registration email
      notifier

2004-03-21  Bill Schindler <bill@bitranch.com>  (bitranch)

    * Member.py: Changed FieldList to Schema to match current Archetypes
      usage.

2004-03-12  Bill Schindler <bill@bitranch.com>  (bitranch)

    * MemberDataContainer.py: Use a real vocab method instead of a field
      accessor -- an accessor gets bad params when called as a vocab method.

2004-03-09  Rob Miller <ra@burningman.com> (RaFromBRC)

    * Replaced single member_workflow with member_auto_workflow and
      member_approval_workflow

2004-02-24  Sasha Vincic <sasha@systemvaruhuset.com> sVincic
 
    * Added Migration tool where all migrations are handled. After a install 
      you need to manually do a migration. This is needed since you may 
      have your own Member type to migrate too. The tool is ready for external
      migrations and setup such us imports.

    * Migrations for Plone->CMFMember and OldCMFMember->CMFMember are included. 
      OldCMFMember is when MemberDataTool wasn't a container.

    * Simple CSV import available under setup tab Plone controlpanel ->
      cmfmember migration tool. See CMFMember/setup/ImportMembers.py for
      file format and path. This link disappears after zope restart due
      to PloneControlPanel behavior -- see  http://plone.org/collector/2749 .
      You can restore it by reinstalling CMFMember.

    * Installation of CMFMember handles installation of dependencies, you
      only need to check CMFMember in Quickinstaller.

    * Plone setup link is restored.

2004-02-09  Rob Miller <ra@burningman.com> (rafrombrc)

    * major overhaul to registration process, refactored
      to use Archetypes UI framework

    * refactored security setup

2004-02-08  Rob Miller <ra@burningman.com> (rafrombrc)

    * Removed unnecessary skins, minor cleanup re: bringing CMFMember current
      to plone2

2004-02-08  Geoff Davis <geoff@geoffdavis.net> (plonista)

    * Applied patch from Volodymyr Cherepanyak to Member._getProperty

    * Merged in fixes from HEAD

... lots of fixes by Helge Tesdal, Rob Miller, Whit

2003-12-16  Geoff Davis <geoff@geoffdavis.net> (plonista)

    * Fixed getPersonalPortrait in MembershipTool.py

2003-12-11  Geoff Davis <geoff@geoffdavis.net> (plonista)

    * Fixed ownership of member objects after copy / rename

2003-10-03  Geoff Davis <geoff@geoffdavis.net> (plonista)

    * Check for presence of portal_groups in MemberDataTool in case we're
      working with Plone 1.0.x.

2003-09-09  Geoff Davis <geoff@geoffdavis.net> (plonista)

    * Applied some fixes contributed by Robert Rotterman and Volodymyr 
      Cherepanyak:

    * Modified methods used in Member.py to access and set user passwords / 
      roles / domains to make things work with GRUF.

    * Fixed Member.getSchema so that things work with users defined outside the
      portal acl_users folder.

    * Fixed migration in MemberData to work better with GRUF

    * Modified MemberData.getProperty so that it first looks for default values
      in MemberData properties and then falls back to the defaults defined in
      the Member object schema.  This lets one set member defaults TTW.

2003-07-21  Geoff Davis <geoff@geoffdavis.net> (plonista)

    * Factory tool now gives ownership of new objects to the currently 
      authenticated member.

    * Modified MemberData.getProperty and Member.getProperty to make them 
      consistent with the CMFCore behavior when a Member property is not found.

    * Added a missing import to Member.py.

    * Made some fixes to Install to make re-installations work.

    * Made Member.getRoles and Member.getDomains public for consistency with
      CMFCore MemberData.
     
2003-07-02  Geoff Davis <geoff@geoffdavis.net> (plonista)

    * Added mechanism to log tracebacks for exceptions thrown by methods called 
      by workflow to aid in debugging (ideally we should filter out 
      ConflictErrors).

    * Refactored test.py into a sequence of standalone tests.  All tests 
      now run except for test_MemberData (and this might run with CMF 1.4 --
      I haven't checked).

2003-06-24  Geoff Davis <geoff@geoffdavis.net> (plonista)

    * Removed test for mail_me from Member.register().  If you want to test for
      the mail_me flag, at the very least, make sure that the user had the
      ability to modify their password at startup (check the permissions).
      Alternatively, you can customize the registration tool's registeredNotify
      or override register in a subclass.

2003-06-22  Geoff Davis <geoff@geoffdavis.net> (plonista)

    * Fixed tabs in portal_memberdata.  You now will get the standard tabs after
      creation.  Adding actions now works, too.

    * Enabled the option to mail your password to yourself when you change it.

    * Minor code cleanup in the factory tool.

    * Code cleanup in the main test (which still doesn't run because of some
      evil code in Archetypes)

2003-06-13  Geoff Davis <geoff@geoffdavis.net> (plonista)

    * Fixed a couple of pretty serious bugs in Member.py that had to do with
      deleting members with user objects that come from outside the current
      portal.  First, the test for the source of the user objects' acl_users 
      folder was broken, which meant that one could delete the site administrator.
      Even worse, when one deleted the site administrator, all the objects they
      owned were deleted recursively, which included the portal itself!  This
      wreaked all sorts of havoc and is now fixed.

    * Updated skins/content_edit.py to work with changes in Archetypes'
      handling of schemata

2003-06-10  Geoff Davis <geoff@geoffdavis.net> (plonista)

    * MemberDataTool.py: removed a spurious declaration of registerType and 
    cleaned up the remaining registerType

    * VariableSchemaSupport.py: fixed declaration for getSchema

    * Extensions/Install.py: fixed portal_types icons for MemberArea and 
    TempFolder

    * types/Member.py: 

        - changed formtooltips from an ObjectField to a BooleanField

        - made mail_me read only and require EDIT_PASSWORD_PERMISSION to write

        - improved validate_id error messages

        - updated migration code to reflect changes to Field.py in Archetypes

    * tests/test.py, test_MemberDataTool.py, test_migration.py: 

        - fixed initialization of Zope in unit tests, so all should run.
        Something in archetypes is messing up test.py, and test_MemberDataTool 
        only works with CMF 1.4, but test_migration now works
